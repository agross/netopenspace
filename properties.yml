<%= optional_yaml('local-properties') %>

global:
  project: Spartakiade
  dir:
    build: build
    test_results: build/test-results
    for_deployment: build/for-deployment
    deploy: deploy
    source: source
    app: source/app
    test: source/test
  build:
    configuration: Debug
    number: <%= ENV['BUILD_NUMBER'] %>
    commit_sha: <%= ENV['BUILD_VCS_NUMBER'] || "no SHA" %>
  app:
    password: <%= ENV['ADMIN_PASSWORD'] || 'password' %>
    iis:
      custom_errors: "Off"
      cookie_path: /
      root_url: http://spartakiade.local/
  deployment:
    logfile: build/msdeploy.log
  tools:
    ajaxmin: tools/AjaxMin/ajaxmin.exe
    mspec: tools/Machine.Specifications/mspec.exe
    cloc: tools/CLOC/cloc.exe
    msdeploy: tools/MSDeploy/msdeploy.exe
    ncover: tools/NCover/NCover.Console.exe
    ncoverexplorer: tools/NCoverExplorer/NCoverExplorer.Console.exe
    zip: tools/7-Zip/7za.exe
    fxcop: tools/FxCop/FxCopCmd.exe
    stylecop: tools/StyleCop/StyleCopCmd.exe

development:
  default_to: global

production:
  default_to: global
  build:
    configuration: Release  
  app:
    iis:
      custom_errors: RemoteOnly
  deployment:
    connection:
      wmsvc: true
      allow_untrusted_https: true
      address: spartakiade.org
      user: <%= ENV['DEPLOY_USER'] || 'secret' %>
      password: <%= ENV['DEPLOY_PASSWORD'] || 'secret' %>
      
root:
  default_to: production
  app:
    iis:
      cookie_path: 2011/
      root_url: http://spartakiade.org/
  deployment:
    tasks:
      - root
      - wall
    iis:
      app_name: (tweber) spartakiade.org/
      
berlin:
  default_to: production
  app:
    iis:
      cookie_path: 2011/
      root_url: http://spartakiade.org/
  deployment:
    tasks:
      - wiki
    iis:
      app_name: (tweber) spartakiade.org/